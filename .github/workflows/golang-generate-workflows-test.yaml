name: golang-generate-workflows test
on:
  pull_request:
    branches: [ master ]
  push:
    branches: [ master ]

jobs:
  golang-generate-workflows-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-go@v2
      - name: Test
        # Evidently we can't 'go test scripts/generate-workflows/...' or the go tool will
        # search GOPATH instead of the module at scripts/generate-workflows.
        run: cd scripts/generate-workflows && go test -v ./...
